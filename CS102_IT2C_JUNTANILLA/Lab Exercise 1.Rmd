---
title: "CS102_IT2C_JUNTANILLA"
author: "Jose Roland Juntanilla"
output: html_document
date: "2024-02-08"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(polite)
library(rvest)
library(dplyr)

urllink <- "https://www.amazon.co.uk/s?k=music+tools&ref=nb_sb_noss"
session <- bow(urllink, user_agent = "For Educational Purposes")

firstdf <- data.frame() 
scrapetool <- function(selector){
  scrape(session)%>%
    html_nodes(selector)%>%
    html_text(trim =  TRUE)
}

productname <- scrapetool("span.a-size-base-plus.a-color-base.a-text-normal") 
productname <- productname[1:40]

productprice <- scrapetool("span.a-price") 
productprice <- productprice[1:40]

productrate <- scrapetool("i.a-icon.a-icon-star-small.a-star-small-4-5.aok-align-bottom")
productrate <- productrate[1:40]

productrev <- scrapetool("span.a-size-base.s-underline-text")
productrev <- productrev[1:40]
 
item <- rbind(firstdf,data.frame(
            Name = productname,
            Price = productprice,
            Ratings = productrate,
            Reviews = productrev
))

```


```{r}
urllink2 <- "https://www.amazon.co.uk/s?k=music+tools&page=2&qid=1707398845&ref=sr_pg_2"

seconddf <- data.frame() 
scrapetool2 <- function(selector){
  scrape(session)%>%
    html_nodes(selector)%>%
    html_text(trim =  TRUE)
}

productname2 <- scrapetool2("span.a-size-base-plus.a-color-base.a-text-normal") 
productname2 <- productname2[1:30]

productprice2 <- scrapetool2("span.a-price") 
productprice2 <- productprice2[1:30]

productrate2 <- scrapetool2("i.a-icon.a-icon-star-small.a-star-small-4-5.aok-align-bottom")
productrate2 <- productrate2[1:30]

productrev2 <- scrapetool2("span.a-size-base.s-underline-text")
productrev2 <- productrev2[1:30]
 
item2 <- rbind(seconddf,data.frame(
            Name = productname2,
            Price = productprice2,
            Ratings = productrate2,
            Reviews = productrev2
))
```
